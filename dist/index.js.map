{"version":3,"sources":["../node_modules/process/browser.js","../src/common.js","../src/scope.js","../src/es5.js","../src/proxy.js","../src/patches.js","../src/immer.js","../src/index.js","genericActions.ts","actions.ts","store.ts","state.ts","index.ts","../node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["process","module","exports","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","Error","defaultClearTimeout","setTimeout","e","clearTimeout","runTimeout","fun","call","runClearTimeout","marker","queue","draining","currentQueue","queueIndex","cleanUpNextTick","length","concat","drainQueue","timeout","len","run","nextTick","args","Array","arguments","i","push","Item","array","prototype","apply","title","env","argv","version","versions","noop","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","name","binding","cwd","chdir","dir","umask","NOTHING","Symbol","DRAFTABLE","for","DRAFT_STATE","isDraft","value","isDraftable","isPlainObject","constructor","isMap","isSet","isArray","proto","Object","getPrototypeOf","original","base","assignSet","target","override","forEach","prev","delete","add","assignMap","key","set","assign","overrides","keys","ownKeys","Reflect","getOwnPropertySymbols","obj","getOwnPropertyNames","shallowCopy","invokeGetters","slice","Map","Set","clone","create","desc","getOwnPropertyDescriptor","get","enumerable","defineProperty","writable","configurable","each","iter","entry","index","isEnumerable","prop","has","thing","hasOwnProperty","is","x","y","hasSymbol","hasMap","hasSet","makeIterable","next","self","iterator","iterateMapValues","state","receiver","isEntries","latest","result","done","makeIterateSetValues","createProxy","iterateSetValues","wrapSetValue","draft","drafts","finalized","finalizing","modified","copy","map","cloned","const","freeze","deep","isFrozen","clear","dontMutateFrozenCollections","_","ImmerScope","parent","canAutoFreeze","patches","usePatches","patchListener","inversePatches","revoke","leave","current","enter","willFinalize","scope","isReplaced","markChangesRecursively","markChangesSweep","clonePotentialDraft","proxyMap","proxySet","proxyProperty","assigned","revoked","createHiddenProperty","peek","assertUnrevoked","prepareCopy","markChanged","descriptors","defineProperties","mapTraps","proxyMethod","finalizeTraps","size","reciever","cb","values","entries","setTraps","thisArg","traps","reduce","acc","builder","proxyAttr","fn","trap","JSON","stringify","let","hasArrayChanges","hasMapChanges","hasSetChanges","hasObjectChanges","object","undefined","baseValue","descriptor","hasChanges","objectTraps","arrayTraps","Proxy","revocable","proxy","isUnchanged","deleteProperty","owner","setPrototypeOf","isNaN","parseInt","reflectTraps","makeReflectTraps","makeTrapsForGetters","names","getters","generatePatches","basePath","generatePatchesFn","generateArrayPatches","generateSetPatches","generatePatchesFromAssigned","delta","start","end","path","op","replaceCount","assignedValue","origValue","unshift","applyPatches","patch","join","splice","verifyMinified","configDefaults","useProxies","autoFreeze","onAssign","onDelete","onCopy","Immer","config","setUseProxies","produce","bind","produceWithPatches","recipe","defaultBase","curriedProduce","this","hasError","Promise","then","processResult","error","maybeFreeze","arg1","arg2","arg3","nextState","p","ip","createDraft","isManual","finishDraft","setAutoFreeze","modernProxy","legacyProxy","baseDraft","finalize","finalizeTree","exists","root","rootPath","needPatches","finalizeProperty","isDraftProp","isSetMember","replace","immer","OVERLAY_ID","OldModule","bundle","Module","moduleName","hot","data","hotData","_acceptCallbacks","_disposeCallbacks","accept","dispose","checkedAssets","assetsToAccept","isParcelRequire","WebSocket","hostname","location","protocol","ws","onmessage","event","parse","type","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","id","every","generated","js","console","hmrApply","v","hmrAcceptRun","reload","close","onclose","log","removeErrorOverlay","message","stack","overlay","createErrorOverlay","document","body","appendChild","getElementById","remove","createElement","stackTrace","innerText","innerHTML","getParents","modules","parents","k","d","dep","Function","deps","cached","cache","some"],"mappings":"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","file":"index.js","sourceRoot":"..\\src","sourcesContent":["// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","export const NOTHING =\n\ttypeof Symbol !== \"undefined\"\n\t\t? Symbol(\"immer-nothing\")\n\t\t: {[\"immer-nothing\"]: true}\n\nexport const DRAFTABLE =\n\ttypeof Symbol !== \"undefined\" && Symbol.for\n\t\t? Symbol.for(\"immer-draftable\")\n\t\t: \"__$immer_draftable\"\n\nexport const DRAFT_STATE =\n\ttypeof Symbol !== \"undefined\" && Symbol.for\n\t\t? Symbol.for(\"immer-state\")\n\t\t: \"__$immer_state\"\n\nexport function isDraft(value) {\n\treturn !!value && !!value[DRAFT_STATE]\n}\n\nexport function isDraftable(value) {\n\tif (!value) return false\n\treturn (\n\t\tisPlainObject(value) ||\n\t\t!!value[DRAFTABLE] ||\n\t\t!!value.constructor[DRAFTABLE] ||\n\t\tisMap(value) ||\n\t\tisSet(value)\n\t)\n}\n\nexport function isPlainObject(value) {\n\tif (!value || typeof value !== \"object\") return false\n\tif (Array.isArray(value)) return true\n\tconst proto = Object.getPrototypeOf(value)\n\treturn !proto || proto === Object.prototype\n}\n\nexport function original(value) {\n\tif (value && value[DRAFT_STATE]) {\n\t\treturn value[DRAFT_STATE].base\n\t}\n\t// otherwise return undefined\n}\n\n// We use Maps as `drafts` for Sets, not Objects\n// See proxy.js\nexport function assignSet(target, override) {\n\toverride.forEach(value => {\n\t\t// When we add new drafts we have to remove their originals if present\n\t\tconst prev = original(value)\n\t\tif (prev) target.delete(prev)\n\t\ttarget.add(value)\n\t})\n\treturn target\n}\n\n// We use Maps as `drafts` for Maps, not Objects\n// See proxy.js\nexport function assignMap(target, override) {\n\toverride.forEach((value, key) => target.set(key, value))\n\treturn target\n}\n\nexport const assign =\n\tObject.assign ||\n\t((target, ...overrides) => {\n\t\toverrides.forEach(override =>\n\t\t\tObject.keys(override).forEach(key => (target[key] = override[key]))\n\t\t)\n\t\treturn target\n\t})\n\nexport const ownKeys =\n\ttypeof Reflect !== \"undefined\" && Reflect.ownKeys\n\t\t? Reflect.ownKeys\n\t\t: typeof Object.getOwnPropertySymbols !== \"undefined\"\n\t\t? obj =>\n\t\t\t\tObject.getOwnPropertyNames(obj).concat(\n\t\t\t\t\tObject.getOwnPropertySymbols(obj)\n\t\t\t\t)\n\t\t: Object.getOwnPropertyNames\n\nexport function shallowCopy(base, invokeGetters = false) {\n\tif (Array.isArray(base)) return base.slice()\n\tif (isMap(base)) return new Map(base)\n\tif (isSet(base)) return new Set(base)\n\tconst clone = Object.create(Object.getPrototypeOf(base))\n\townKeys(base).forEach(key => {\n\t\tif (key === DRAFT_STATE) {\n\t\t\treturn // Never copy over draft state.\n\t\t}\n\t\tconst desc = Object.getOwnPropertyDescriptor(base, key)\n\t\tlet {value} = desc\n\t\tif (desc.get) {\n\t\t\tif (!invokeGetters) {\n\t\t\t\tthrow new Error(\"Immer drafts cannot have computed properties\")\n\t\t\t}\n\t\t\tvalue = desc.get.call(base)\n\t\t}\n\t\tif (desc.enumerable) {\n\t\t\tclone[key] = value\n\t\t} else {\n\t\t\tObject.defineProperty(clone, key, {\n\t\t\t\tvalue,\n\t\t\t\twritable: true,\n\t\t\t\tconfigurable: true\n\t\t\t})\n\t\t}\n\t})\n\treturn clone\n}\n\nexport function each(obj, iter) {\n\tif (Array.isArray(obj) || isMap(obj) || isSet(obj)) {\n\t\tobj.forEach((entry, index) => iter(index, entry, obj))\n\t} else {\n\t\townKeys(obj).forEach(key => iter(key, obj[key], obj))\n\t}\n}\n\nexport function isEnumerable(base, prop) {\n\tconst desc = Object.getOwnPropertyDescriptor(base, prop)\n\treturn !!desc && desc.enumerable\n}\n\nexport function has(thing, prop) {\n\treturn isMap(thing)\n\t\t? thing.has(prop)\n\t\t: Object.prototype.hasOwnProperty.call(thing, prop)\n}\n\nexport function get(thing, prop) {\n\treturn isMap(thing) ? thing.get(prop) : thing[prop]\n}\n\nexport function is(x, y) {\n\t// From: https://github.com/facebook/fbjs/blob/c69904a511b900266935168223063dd8772dfc40/packages/fbjs/src/core/shallowEqual.js\n\tif (x === y) {\n\t\treturn x !== 0 || 1 / x === 1 / y\n\t} else {\n\t\treturn x !== x && y !== y\n\t}\n}\n\nexport const hasSymbol = typeof Symbol !== \"undefined\"\n\nexport const hasMap = typeof Map !== \"undefined\"\n\nexport function isMap(target) {\n\treturn hasMap && target instanceof Map\n}\n\nexport const hasSet = typeof Set !== \"undefined\"\n\nexport function isSet(target) {\n\treturn hasSet && target instanceof Set\n}\n\nexport function makeIterable(next) {\n\tlet self\n\treturn (self = {\n\t\t[Symbol.iterator]: () => self,\n\t\tnext\n\t})\n}\n\n/** Map.prototype.values _-or-_ Map.prototype.entries */\nexport function iterateMapValues(state, prop, receiver) {\n\tconst isEntries = prop !== \"values\"\n\treturn () => {\n\t\tconst iterator = latest(state)[Symbol.iterator]()\n\t\treturn makeIterable(() => {\n\t\t\tconst result = iterator.next()\n\t\t\tif (!result.done) {\n\t\t\t\tconst [key] = result.value\n\t\t\t\tconst value = receiver.get(key)\n\t\t\t\tresult.value = isEntries ? [key, value] : value\n\t\t\t}\n\t\t\treturn result\n\t\t})\n\t}\n}\n\nexport function makeIterateSetValues(createProxy) {\n\tfunction iterateSetValues(state, prop) {\n\t\tconst isEntries = prop === \"entries\"\n\t\treturn () => {\n\t\t\tconst iterator = latest(state)[Symbol.iterator]()\n\t\t\treturn makeIterable(() => {\n\t\t\t\tconst result = iterator.next()\n\t\t\t\tif (!result.done) {\n\t\t\t\t\tconst value = wrapSetValue(state, result.value)\n\t\t\t\t\tresult.value = isEntries ? [value, value] : value\n\t\t\t\t}\n\t\t\t\treturn result\n\t\t\t})\n\t\t}\n\t}\n\n\tfunction wrapSetValue(state, value) {\n\t\tconst key = original(value) || value\n\t\tlet draft = state.drafts.get(key)\n\t\tif (!draft) {\n\t\t\tif (state.finalized || !isDraftable(value) || state.finalizing) {\n\t\t\t\treturn value\n\t\t\t}\n\t\t\tdraft = createProxy(value, state)\n\t\t\tstate.drafts.set(key, draft)\n\t\t\tif (state.modified) {\n\t\t\t\tstate.copy.add(draft)\n\t\t\t}\n\t\t}\n\t\treturn draft\n\t}\n\n\treturn iterateSetValues\n}\n\nfunction latest(state) {\n\treturn state.copy || state.base\n}\n\nexport function clone(obj) {\n\tif (!isDraftable(obj)) return obj\n\tif (Array.isArray(obj)) return obj.map(clone)\n\tif (isMap(obj)) return new Map(obj)\n\tif (isSet(obj)) return new Set(obj)\n\tconst cloned = Object.create(Object.getPrototypeOf(obj))\n\tfor (const key in obj) cloned[key] = clone(obj[key])\n\treturn cloned\n}\n\nexport function freeze(obj, deep = false) {\n\tif (!isDraftable(obj) || isDraft(obj) || Object.isFrozen(obj)) return\n\tif (isSet(obj)) {\n\t\tobj.add = obj.clear = obj.delete = dontMutateFrozenCollections\n\t} else if (isMap(obj)) {\n\t\tobj.set = obj.clear = obj.delete = dontMutateFrozenCollections\n\t}\n\tObject.freeze(obj)\n\tif (deep) each(obj, (_, value) => freeze(value, true))\n}\n\nfunction dontMutateFrozenCollections() {\n\tthrow new Error(\"This object has been frozen and should not be mutated\")\n}\n","import {DRAFT_STATE} from \"./common\"\n\n/** Each scope represents a `produce` call. */\nexport class ImmerScope {\n\tconstructor(parent) {\n\t\tthis.drafts = []\n\t\tthis.parent = parent\n\n\t\t// Whenever the modified draft contains a draft from another scope, we\n\t\t// need to prevent auto-freezing so the unowned draft can be finalized.\n\t\tthis.canAutoFreeze = true\n\n\t\t// To avoid prototype lookups:\n\t\tthis.patches = null\n\t}\n\tusePatches(patchListener) {\n\t\tif (patchListener) {\n\t\t\tthis.patches = []\n\t\t\tthis.inversePatches = []\n\t\t\tthis.patchListener = patchListener\n\t\t}\n\t}\n\trevoke() {\n\t\tthis.leave()\n\t\tthis.drafts.forEach(revoke)\n\t\tthis.drafts = null // Make draft-related methods throw.\n\t}\n\tleave() {\n\t\tif (this === ImmerScope.current) {\n\t\t\tImmerScope.current = this.parent\n\t\t}\n\t}\n}\n\nImmerScope.current = null\nImmerScope.enter = function() {\n\treturn (this.current = new ImmerScope(this.current))\n}\n\nfunction revoke(draft) {\n\tdraft[DRAFT_STATE].revoke()\n}\n","\"use strict\"\nimport {\n\teach,\n\thas,\n\tis,\n\tisDraft,\n\tisDraftable,\n\tisEnumerable,\n\tisMap,\n\tisSet,\n\thasSymbol,\n\tshallowCopy,\n\tDRAFT_STATE,\n\titerateMapValues,\n\tmakeIterable,\n\tmakeIterateSetValues\n} from \"./common\"\nimport {ImmerScope} from \"./scope\"\n\nexport function willFinalize(scope, result, isReplaced) {\n\tscope.drafts.forEach(draft => {\n\t\tdraft[DRAFT_STATE].finalizing = true\n\t})\n\tif (!isReplaced) {\n\t\tif (scope.patches) {\n\t\t\tmarkChangesRecursively(scope.drafts[0])\n\t\t}\n\t\t// This is faster when we don't care about which attributes changed.\n\t\tmarkChangesSweep(scope.drafts)\n\t}\n\t// When a child draft is returned, look for changes.\n\telse if (isDraft(result) && result[DRAFT_STATE].scope === scope) {\n\t\tmarkChangesSweep(scope.drafts)\n\t}\n}\n\nexport function createProxy(base, parent) {\n\tconst isArray = Array.isArray(base)\n\tconst draft = clonePotentialDraft(base)\n\n\tif (isMap(base)) {\n\t\tproxyMap(draft)\n\t} else if (isSet(base)) {\n\t\tproxySet(draft)\n\t} else {\n\t\teach(draft, prop => {\n\t\t\tproxyProperty(draft, prop, isArray || isEnumerable(base, prop))\n\t\t})\n\t}\n\n\t// See \"proxy.js\" for property documentation.\n\tconst scope = parent ? parent.scope : ImmerScope.current\n\tconst state = {\n\t\tscope,\n\t\tmodified: false,\n\t\tfinalizing: false, // es5 only\n\t\tfinalized: false,\n\t\tassigned: isMap(base) ? new Map() : {},\n\t\tparent,\n\t\tbase,\n\t\tdraft,\n\t\tdrafts: isSet(base) ? new Map() : null,\n\t\tcopy: null,\n\t\trevoke,\n\t\trevoked: false // es5 only\n\t}\n\n\tcreateHiddenProperty(draft, DRAFT_STATE, state)\n\tscope.drafts.push(draft)\n\treturn draft\n}\n\nfunction revoke() {\n\tthis.revoked = true\n}\n\nfunction latest(state) {\n\treturn state.copy || state.base\n}\n\n// Access a property without creating an Immer draft.\nfunction peek(draft, prop) {\n\tconst state = draft[DRAFT_STATE]\n\tif (state && !state.finalizing) {\n\t\tstate.finalizing = true\n\t\tconst value = draft[prop]\n\t\tstate.finalizing = false\n\t\treturn value\n\t}\n\treturn draft[prop]\n}\n\nfunction get(state, prop) {\n\tassertUnrevoked(state)\n\tconst value = peek(latest(state), prop)\n\tif (state.finalizing) return value\n\t// Create a draft if the value is unmodified.\n\tif (value === peek(state.base, prop) && isDraftable(value)) {\n\t\tprepareCopy(state)\n\t\treturn (state.copy[prop] = createProxy(value, state))\n\t}\n\treturn value\n}\n\nfunction set(state, prop, value) {\n\tassertUnrevoked(state)\n\tstate.assigned[prop] = true\n\tif (!state.modified) {\n\t\tif (is(value, peek(latest(state), prop))) return\n\t\tmarkChanged(state)\n\t\tprepareCopy(state)\n\t}\n\tstate.copy[prop] = value\n}\n\nfunction markChanged(state) {\n\tif (!state.modified) {\n\t\tstate.modified = true\n\t\tif (state.parent) markChanged(state.parent)\n\t}\n}\n\nfunction prepareCopy(state) {\n\tif (!state.copy) state.copy = clonePotentialDraft(state.base)\n}\n\nfunction clonePotentialDraft(base) {\n\tconst state = base && base[DRAFT_STATE]\n\tif (state) {\n\t\tstate.finalizing = true\n\t\tconst draft = shallowCopy(state.draft, true)\n\t\tstate.finalizing = false\n\t\treturn draft\n\t}\n\treturn shallowCopy(base)\n}\n\n// property descriptors are recycled to make sure we don't create a get and set closure per property,\n// but share them all instead\nconst descriptors = {}\n\nfunction proxyProperty(draft, prop, enumerable) {\n\tlet desc = descriptors[prop]\n\tif (desc) {\n\t\tdesc.enumerable = enumerable\n\t} else {\n\t\tdescriptors[prop] = desc = {\n\t\t\tconfigurable: true,\n\t\t\tenumerable,\n\t\t\tget() {\n\t\t\t\treturn get(this[DRAFT_STATE], prop)\n\t\t\t},\n\t\t\tset(value) {\n\t\t\t\tset(this[DRAFT_STATE], prop, value)\n\t\t\t}\n\t\t}\n\t}\n\tObject.defineProperty(draft, prop, desc)\n}\n\nfunction proxyMap(target) {\n\tObject.defineProperties(target, mapTraps)\n\n\tif (hasSymbol) {\n\t\tObject.defineProperty(\n\t\t\ttarget,\n\t\t\tSymbol.iterator,\n\t\t\tproxyMethod(iterateMapValues)\n\t\t)\n\t}\n}\n\nconst mapTraps = finalizeTraps({\n\tsize: state => latest(state).size,\n\thas: state => key => latest(state).has(key),\n\tset: state => (key, value) => {\n\t\tif (latest(state).get(key) !== value) {\n\t\t\tprepareCopy(state)\n\t\t\tmarkChanged(state)\n\t\t\tstate.assigned.set(key, true)\n\t\t\tstate.copy.set(key, value)\n\t\t}\n\t\treturn state.draft\n\t},\n\tdelete: state => key => {\n\t\tprepareCopy(state)\n\t\tmarkChanged(state)\n\t\tstate.assigned.set(key, false)\n\t\tstate.copy.delete(key)\n\t\treturn false\n\t},\n\tclear: state => () => {\n\t\tif (!state.copy) {\n\t\t\tprepareCopy(state)\n\t\t}\n\t\tmarkChanged(state)\n\t\tstate.assigned = new Map()\n\t\tfor (const key of latest(state).keys()) {\n\t\t\tstate.assigned.set(key, false)\n\t\t}\n\t\treturn state.copy.clear()\n\t},\n\tforEach: (state, key, reciever) => cb => {\n\t\tlatest(state).forEach((value, key, map) => {\n\t\t\tcb(reciever.get(key), key, map)\n\t\t})\n\t},\n\tget: state => key => {\n\t\tconst value = latest(state).get(key)\n\n\t\tif (state.finalizing || state.finalized || !isDraftable(value)) {\n\t\t\treturn value\n\t\t}\n\n\t\tif (value !== state.base.get(key)) {\n\t\t\treturn value\n\t\t}\n\t\tconst draft = createProxy(value, state)\n\t\tprepareCopy(state)\n\t\tstate.copy.set(key, draft)\n\t\treturn draft\n\t},\n\tkeys: state => () => latest(state).keys(),\n\tvalues: iterateMapValues,\n\tentries: iterateMapValues\n})\n\nfunction proxySet(target) {\n\tObject.defineProperties(target, setTraps)\n\n\tif (hasSymbol) {\n\t\tObject.defineProperty(\n\t\t\ttarget,\n\t\t\tSymbol.iterator,\n\t\t\tproxyMethod(iterateSetValues)\n\t\t)\n\t}\n}\n\nconst iterateSetValues = makeIterateSetValues(createProxy)\n\nconst setTraps = finalizeTraps({\n\tsize: state => {\n\t\treturn latest(state).size\n\t},\n\tadd: state => value => {\n\t\tif (!latest(state).has(value)) {\n\t\t\tmarkChanged(state)\n\t\t\tif (!state.copy) {\n\t\t\t\tprepareCopy(state)\n\t\t\t}\n\t\t\tstate.copy.add(value)\n\t\t}\n\t\treturn state.draft\n\t},\n\tdelete: state => value => {\n\t\tmarkChanged(state)\n\t\tif (!state.copy) {\n\t\t\tprepareCopy(state)\n\t\t}\n\t\treturn state.copy.delete(value)\n\t},\n\thas: state => key => {\n\t\treturn latest(state).has(key)\n\t},\n\tclear: state => () => {\n\t\tmarkChanged(state)\n\t\tif (!state.copy) {\n\t\t\tprepareCopy(state)\n\t\t}\n\t\treturn state.copy.clear()\n\t},\n\tkeys: iterateSetValues,\n\tentries: iterateSetValues,\n\tvalues: iterateSetValues,\n\tforEach: state => (cb, thisArg) => {\n\t\tconst iterator = iterateSetValues(state)()\n\t\tlet result = iterator.next()\n\t\twhile (!result.done) {\n\t\t\tcb.call(thisArg, result.value, result.value, state.draft)\n\t\t\tresult = iterator.next()\n\t\t}\n\t}\n})\n\nfunction finalizeTraps(traps) {\n\treturn Object.keys(traps).reduce(function(acc, key) {\n\t\tconst builder = key === \"size\" ? proxyAttr : proxyMethod\n\t\tacc[key] = builder(traps[key], key)\n\t\treturn acc\n\t}, {})\n}\n\nfunction proxyAttr(fn) {\n\treturn {\n\t\tget() {\n\t\t\tconst state = this[DRAFT_STATE]\n\t\t\tassertUnrevoked(state)\n\t\t\treturn fn(state)\n\t\t}\n\t}\n}\n\nfunction proxyMethod(trap, key) {\n\treturn {\n\t\tget() {\n\t\t\treturn function(...args) {\n\t\t\t\tconst state = this[DRAFT_STATE]\n\t\t\t\tassertUnrevoked(state)\n\t\t\t\treturn trap(state, key, state.draft)(...args)\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction assertUnrevoked(state) {\n\tif (state.revoked === true)\n\t\tthrow new Error(\n\t\t\t\"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? \" +\n\t\t\t\tJSON.stringify(latest(state))\n\t\t)\n}\n\n// This looks expensive, but only proxies are visited, and only objects without known changes are scanned.\nfunction markChangesSweep(drafts) {\n\t// The natural order of drafts in the `scope` array is based on when they\n\t// were accessed. By processing drafts in reverse natural order, we have a\n\t// better chance of processing leaf nodes first. When a leaf node is known to\n\t// have changed, we can avoid any traversal of its ancestor nodes.\n\tfor (let i = drafts.length - 1; i >= 0; i--) {\n\t\tconst state = drafts[i][DRAFT_STATE]\n\t\tif (!state.modified) {\n\t\t\tif (Array.isArray(state.base)) {\n\t\t\t\tif (hasArrayChanges(state)) markChanged(state)\n\t\t\t} else if (isMap(state.base)) {\n\t\t\t\tif (hasMapChanges(state)) markChanged(state)\n\t\t\t} else if (isSet(state.base)) {\n\t\t\t\tif (hasSetChanges(state)) markChanged(state)\n\t\t\t} else if (hasObjectChanges(state)) {\n\t\t\t\tmarkChanged(state)\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction markChangesRecursively(object) {\n\tif (!object || typeof object !== \"object\") return\n\tconst state = object[DRAFT_STATE]\n\tif (!state) return\n\tconst {base, draft, assigned} = state\n\tif (!Array.isArray(object)) {\n\t\t// Look for added keys.\n\t\tObject.keys(draft).forEach(key => {\n\t\t\t// The `undefined` check is a fast path for pre-existing keys.\n\t\t\tif (base[key] === undefined && !has(base, key)) {\n\t\t\t\tassigned[key] = true\n\t\t\t\tmarkChanged(state)\n\t\t\t} else if (!assigned[key]) {\n\t\t\t\t// Only untouched properties trigger recursion.\n\t\t\t\tmarkChangesRecursively(draft[key])\n\t\t\t}\n\t\t})\n\t\t// Look for removed keys.\n\t\tObject.keys(base).forEach(key => {\n\t\t\t// The `undefined` check is a fast path for pre-existing keys.\n\t\t\tif (draft[key] === undefined && !has(draft, key)) {\n\t\t\t\tassigned[key] = false\n\t\t\t\tmarkChanged(state)\n\t\t\t}\n\t\t})\n\t} else if (hasArrayChanges(state)) {\n\t\tmarkChanged(state)\n\t\tassigned.length = true\n\t\tif (draft.length < base.length) {\n\t\t\tfor (let i = draft.length; i < base.length; i++) assigned[i] = false\n\t\t} else {\n\t\t\tfor (let i = base.length; i < draft.length; i++) assigned[i] = true\n\t\t}\n\t\tfor (let i = 0; i < draft.length; i++) {\n\t\t\t// Only untouched indices trigger recursion.\n\t\t\tif (assigned[i] === undefined) markChangesRecursively(draft[i])\n\t\t}\n\t}\n}\n\nfunction hasObjectChanges(state) {\n\tconst {base, draft} = state\n\n\t// Search for added keys and changed keys. Start at the back, because\n\t// non-numeric keys are ordered by time of definition on the object.\n\tconst keys = Object.keys(draft)\n\tfor (let i = keys.length - 1; i >= 0; i--) {\n\t\tconst key = keys[i]\n\t\tconst baseValue = base[key]\n\t\t// The `undefined` check is a fast path for pre-existing keys.\n\t\tif (baseValue === undefined && !has(base, key)) {\n\t\t\treturn true\n\t\t}\n\t\t// Once a base key is deleted, future changes go undetected, because its\n\t\t// descriptor is erased. This branch detects any missed changes.\n\t\telse {\n\t\t\tconst value = draft[key]\n\t\t\tconst state = value && value[DRAFT_STATE]\n\t\t\tif (state ? state.base !== baseValue : !is(value, baseValue)) {\n\t\t\t\treturn true\n\t\t\t}\n\t\t}\n\t}\n\n\t// At this point, no keys were added or changed.\n\t// Compare key count to determine if keys were deleted.\n\treturn keys.length !== Object.keys(base).length\n}\n\nfunction hasArrayChanges(state) {\n\tconst {draft} = state\n\tif (draft.length !== state.base.length) return true\n\t// See #116\n\t// If we first shorten the length, our array interceptors will be removed.\n\t// If after that new items are added, result in the same original length,\n\t// those last items will have no intercepting property.\n\t// So if there is no own descriptor on the last position, we know that items were removed and added\n\t// N.B.: splice, unshift, etc only shift values around, but not prop descriptors, so we only have to check\n\t// the last one\n\tconst descriptor = Object.getOwnPropertyDescriptor(draft, draft.length - 1)\n\t// descriptor can be null, but only for newly created sparse arrays, eg. new Array(10)\n\tif (descriptor && !descriptor.get) return true\n\t// For all other cases, we don't have to compare, as they would have been picked up by the index setters\n\treturn false\n}\n\nfunction hasMapChanges(state) {\n\tconst {base, draft} = state\n\n\tif (base.size !== draft.size) return true\n\n\t// IE11 supports only forEach iteration\n\tlet hasChanges = false\n\tdraft.forEach(function(value, key) {\n\t\tif (!hasChanges) {\n\t\t\thasChanges = isDraftable(value) ? value.modified : value !== base.get(key)\n\t\t}\n\t})\n\treturn hasChanges\n}\n\nfunction hasSetChanges(state) {\n\tconst {base, draft} = state\n\n\tif (base.size !== draft.size) return true\n\n\t// IE11 supports only forEach iteration\n\tlet hasChanges = false\n\tdraft.forEach(function(value, key) {\n\t\tif (!hasChanges) {\n\t\t\thasChanges = isDraftable(value) ? value.modified : !base.has(key)\n\t\t}\n\t})\n\treturn hasChanges\n}\n\nfunction createHiddenProperty(target, prop, value) {\n\tObject.defineProperty(target, prop, {\n\t\tvalue: value,\n\t\tenumerable: false,\n\t\twritable: true\n\t})\n}\n","\"use strict\"\nimport {\n\tassign,\n\teach,\n\thas,\n\tis,\n\tisDraftable,\n\tisDraft,\n\tisMap,\n\tisSet,\n\thasSymbol,\n\tshallowCopy,\n\tmakeIterable,\n\tDRAFT_STATE,\n\tassignMap,\n\tassignSet,\n\toriginal,\n\titerateMapValues,\n\tmakeIterateSetValues\n} from \"./common\"\nimport {ImmerScope} from \"./scope\"\n\n// Do nothing before being finalized.\nexport function willFinalize() {}\n\n/**\n * Returns a new draft of the `base` object.\n *\n * The second argument is the parent draft-state (used internally).\n */\nexport function createProxy(base, parent) {\n\tconst scope = parent ? parent.scope : ImmerScope.current\n\tconst state = {\n\t\t// Track which produce call this is associated with.\n\t\tscope,\n\t\t// True for both shallow and deep changes.\n\t\tmodified: false,\n\t\t// Used during finalization.\n\t\tfinalized: false,\n\t\t// Track which properties have been assigned (true) or deleted (false).\n\t\tassigned: {},\n\t\t// The parent draft state.\n\t\tparent,\n\t\t// The base state.\n\t\tbase,\n\t\t// The base proxy.\n\t\tdraft: null,\n\t\t// Any property proxies.\n\t\tdrafts: {},\n\t\t// The base copy with any updated values.\n\t\tcopy: null,\n\t\t// Called by the `produce` function.\n\t\trevoke: null\n\t}\n\n\tlet target = state\n\tlet traps = objectTraps\n\tif (Array.isArray(base)) {\n\t\ttarget = [state]\n\t\ttraps = arrayTraps\n\t}\n\t// Map drafts must support object keys, so we use Map objects to track changes.\n\telse if (isMap(base)) {\n\t\ttraps = mapTraps\n\t\tstate.drafts = new Map()\n\t\tstate.assigned = new Map()\n\t}\n\t// Set drafts use a Map object to track which of its values are drafted.\n\t// And we don't need the \"assigned\" property, because Set objects have no keys.\n\telse if (isSet(base)) {\n\t\ttraps = setTraps\n\t\tstate.drafts = new Map()\n\t}\n\n\tconst {revoke, proxy} = Proxy.revocable(target, traps)\n\n\tstate.draft = proxy\n\tstate.revoke = revoke\n\n\tscope.drafts.push(proxy)\n\treturn proxy\n}\n\n/**\n * Object drafts\n */\n\nconst objectTraps = {\n\tget(state, prop) {\n\t\tif (prop === DRAFT_STATE) return state\n\t\tlet {drafts} = state\n\n\t\t// Check for existing draft in unmodified state.\n\t\tif (!state.modified && has(drafts, prop)) {\n\t\t\treturn drafts[prop]\n\t\t}\n\n\t\tconst value = latest(state)[prop]\n\t\tif (state.finalized || !isDraftable(value)) {\n\t\t\treturn value\n\t\t}\n\n\t\t// Check for existing draft in modified state.\n\t\tif (state.modified) {\n\t\t\t// Assigned values are never drafted. This catches any drafts we created, too.\n\t\t\tif (value !== peek(state.base, prop)) return value\n\t\t\t// Store drafts on the copy (when one exists).\n\t\t\tdrafts = state.copy\n\t\t}\n\n\t\treturn (drafts[prop] = createProxy(value, state))\n\t},\n\thas(state, prop) {\n\t\treturn prop in latest(state)\n\t},\n\townKeys(state) {\n\t\treturn Reflect.ownKeys(latest(state))\n\t},\n\tset(state, prop, value) {\n\t\tif (!state.modified) {\n\t\t\tconst baseValue = peek(state.base, prop)\n\t\t\t// Optimize based on value's truthiness. Truthy values are guaranteed to\n\t\t\t// never be undefined, so we can avoid the `in` operator. Lastly, truthy\n\t\t\t// values may be drafts, but falsy values are never drafts.\n\t\t\tconst isUnchanged = value\n\t\t\t\t? is(baseValue, value) || value === state.drafts[prop]\n\t\t\t\t: is(baseValue, value) && prop in state.base\n\t\t\tif (isUnchanged) return true\n\t\t\tmarkChanged(state)\n\t\t}\n\t\tstate.assigned[prop] = true\n\t\tstate.copy[prop] = value\n\t\treturn true\n\t},\n\tdeleteProperty(state, prop) {\n\t\t// The `undefined` check is a fast path for pre-existing keys.\n\t\tif (peek(state.base, prop) !== undefined || prop in state.base) {\n\t\t\tstate.assigned[prop] = false\n\t\t\tmarkChanged(state)\n\t\t} else if (state.assigned[prop]) {\n\t\t\t// if an originally not assigned property was deleted\n\t\t\tdelete state.assigned[prop]\n\t\t}\n\t\tif (state.copy) delete state.copy[prop]\n\t\treturn true\n\t},\n\t// Note: We never coerce `desc.value` into an Immer draft, because we can't make\n\t// the same guarantee in ES5 mode.\n\tgetOwnPropertyDescriptor(state, prop) {\n\t\tconst owner = latest(state)\n\t\tconst desc = Reflect.getOwnPropertyDescriptor(owner, prop)\n\t\tif (desc) {\n\t\t\tdesc.writable = true\n\t\t\tdesc.configurable = !Array.isArray(owner) || prop !== \"length\"\n\t\t}\n\t\treturn desc\n\t},\n\tdefineProperty() {\n\t\tthrow new Error(\"Object.defineProperty() cannot be used on an Immer draft\") // prettier-ignore\n\t},\n\tgetPrototypeOf(state) {\n\t\treturn Object.getPrototypeOf(state.base)\n\t},\n\tsetPrototypeOf() {\n\t\tthrow new Error(\"Object.setPrototypeOf() cannot be used on an Immer draft\") // prettier-ignore\n\t}\n}\n\n/**\n * Array drafts\n */\n\nconst arrayTraps = {}\neach(objectTraps, (key, fn) => {\n\tarrayTraps[key] = function() {\n\t\targuments[0] = arguments[0][0]\n\t\treturn fn.apply(this, arguments)\n\t}\n})\narrayTraps.deleteProperty = function(state, prop) {\n\tif (isNaN(parseInt(prop))) {\n\t\tthrow new Error(\"Immer only supports deleting array indices\") // prettier-ignore\n\t}\n\treturn objectTraps.deleteProperty.call(this, state[0], prop)\n}\narrayTraps.set = function(state, prop, value) {\n\tif (prop !== \"length\" && isNaN(parseInt(prop))) {\n\t\tthrow new Error(\"Immer only supports setting array indices and the 'length' property\") // prettier-ignore\n\t}\n\treturn objectTraps.set.call(this, state[0], prop, value)\n}\n\n// Used by Map and Set drafts\nconst reflectTraps = makeReflectTraps([\n\t\"ownKeys\",\n\t\"has\",\n\t\"set\",\n\t\"deleteProperty\",\n\t\"defineProperty\",\n\t\"getOwnPropertyDescriptor\",\n\t\"preventExtensions\",\n\t\"isExtensible\",\n\t\"getPrototypeOf\"\n])\n\n/**\n * Map drafts\n */\n\nconst mapTraps = makeTrapsForGetters({\n\t[DRAFT_STATE]: state => state,\n\tsize: state => latest(state).size,\n\thas: state => key => latest(state).has(key),\n\tset: state => (key, value) => {\n\t\tconst values = latest(state)\n\t\tif (!values.has(key) || values.get(key) !== value) {\n\t\t\tmarkChanged(state)\n\t\t\tstate.assigned.set(key, true)\n\t\t\tstate.copy.set(key, value)\n\t\t}\n\t\treturn state.draft\n\t},\n\tdelete: state => key => {\n\t\tif (latest(state).has(key)) {\n\t\t\tmarkChanged(state)\n\t\t\tstate.assigned.set(key, false)\n\t\t\treturn state.copy.delete(key)\n\t\t}\n\t\treturn false\n\t},\n\tclear: state => () => {\n\t\tmarkChanged(state)\n\t\tstate.assigned = new Map()\n\t\tfor (const key of latest(state).keys()) {\n\t\t\tstate.assigned.set(key, false)\n\t\t}\n\t\treturn state.copy.clear()\n\t},\n\tforEach: (state, _, receiver) => (cb, thisArg) =>\n\t\tlatest(state).forEach((_, key, map) => {\n\t\t\tconst value = receiver.get(key)\n\t\t\tcb.call(thisArg, value, key, map)\n\t\t}),\n\tget: state => key => {\n\t\tconst drafts = state[state.modified ? \"copy\" : \"drafts\"]\n\t\tif (drafts.has(key)) {\n\t\t\treturn drafts.get(key)\n\t\t}\n\n\t\tconst value = latest(state).get(key)\n\t\tif (state.finalized || !isDraftable(value)) {\n\t\t\treturn value\n\t\t}\n\n\t\tconst draft = createProxy(value, state)\n\t\tdrafts.set(key, draft)\n\t\treturn draft\n\t},\n\tkeys: state => () => latest(state).keys(),\n\tvalues: iterateMapValues,\n\tentries: iterateMapValues,\n\t[hasSymbol ? Symbol.iterator : \"@@iterator\"]: iterateMapValues\n})\n\nconst iterateSetValues = makeIterateSetValues(createProxy)\n/**\n * Set drafts\n */\n\nconst setTraps = makeTrapsForGetters({\n\t[DRAFT_STATE]: state => state,\n\tsize: state => latest(state).size,\n\thas: state => key => latest(state).has(key),\n\tadd: state => value => {\n\t\tif (!latest(state).has(value)) {\n\t\t\tmarkChanged(state)\n\t\t\tstate.copy.add(value)\n\t\t}\n\t\treturn state.draft\n\t},\n\tdelete: state => value => {\n\t\tmarkChanged(state)\n\t\treturn state.copy.delete(value)\n\t},\n\tclear: state => () => {\n\t\tmarkChanged(state)\n\t\treturn state.copy.clear()\n\t},\n\tforEach: state => (cb, thisArg) => {\n\t\tconst iterator = iterateSetValues(state)()\n\t\tlet result = iterator.next()\n\t\twhile (!result.done) {\n\t\t\tcb.call(thisArg, result.value, result.value, state.draft)\n\t\t\tresult = iterator.next()\n\t\t}\n\t},\n\tkeys: iterateSetValues,\n\tvalues: iterateSetValues,\n\tentries: iterateSetValues,\n\t[hasSymbol ? Symbol.iterator : \"@@iterator\"]: iterateSetValues\n})\n\n/**\n * Helpers\n */\n\n// Retrieve the latest values of the draft.\nfunction latest(state) {\n\treturn state.copy || state.base\n}\n\n// Access a property without creating an Immer draft.\nfunction peek(draft, prop) {\n\tconst state = draft[DRAFT_STATE]\n\tconst desc = Reflect.getOwnPropertyDescriptor(\n\t\tstate ? latest(state) : draft,\n\t\tprop\n\t)\n\treturn desc && desc.value\n}\n\nfunction markChanged(state) {\n\tif (!state.modified) {\n\t\tstate.modified = true\n\n\t\tconst {base, drafts, parent} = state\n\t\tconst copy = shallowCopy(base)\n\n\t\tif (isSet(base)) {\n\t\t\t// Note: The `drafts` property is preserved for Set objects, since\n\t\t\t// we need to keep track of which values are drafted.\n\t\t\tassignSet(copy, drafts)\n\t\t} else {\n\t\t\t// Merge nested drafts into the copy.\n\t\t\tif (isMap(base)) assignMap(copy, drafts)\n\t\t\telse assign(copy, drafts)\n\t\t\tstate.drafts = null\n\t\t}\n\n\t\tstate.copy = copy\n\t\tif (parent) {\n\t\t\tmarkChanged(parent)\n\t\t}\n\t}\n}\n\n/** Create traps that all use the `Reflect` API on the `latest(state)` */\nfunction makeReflectTraps(names) {\n\treturn names.reduce((traps, name) => {\n\t\ttraps[name] = (state, ...args) => Reflect[name](latest(state), ...args)\n\t\treturn traps\n\t}, {})\n}\n\nfunction makeTrapsForGetters(getters) {\n\treturn {\n\t\t...reflectTraps,\n\t\tget(state, prop, receiver) {\n\t\t\treturn getters.hasOwnProperty(prop)\n\t\t\t\t? getters[prop](state, prop, receiver)\n\t\t\t\t: Reflect.get(state, prop, receiver)\n\t\t},\n\t\tsetPrototypeOf(state) {\n\t\t\tthrow new Error(\"Object.setPrototypeOf() cannot be used on an Immer draft\") // prettier-ignore\n\t\t}\n\t}\n}\n","import {get, each, isMap, isSet, has, clone} from \"./common\"\n\nexport function generatePatches(state, basePath, patches, inversePatches) {\n\tconst generatePatchesFn = Array.isArray(state.base)\n\t\t? generateArrayPatches\n\t\t: isSet(state.base)\n\t\t? generateSetPatches\n\t\t: generatePatchesFromAssigned\n\n\tgeneratePatchesFn(state, basePath, patches, inversePatches)\n}\n\nfunction generateArrayPatches(state, basePath, patches, inversePatches) {\n\tlet {base, copy, assigned} = state\n\n\t// Reduce complexity by ensuring `base` is never longer.\n\tif (copy.length < base.length) {\n\t\t;[base, copy] = [copy, base]\n\t\t;[patches, inversePatches] = [inversePatches, patches]\n\t}\n\n\tconst delta = copy.length - base.length\n\n\t// Find the first replaced index.\n\tlet start = 0\n\twhile (base[start] === copy[start] && start < base.length) {\n\t\t++start\n\t}\n\n\t// Find the last replaced index. Search from the end to optimize splice patches.\n\tlet end = base.length\n\twhile (end > start && base[end - 1] === copy[end + delta - 1]) {\n\t\t--end\n\t}\n\n\t// Process replaced indices.\n\tfor (let i = start; i < end; ++i) {\n\t\tif (assigned[i] && copy[i] !== base[i]) {\n\t\t\tconst path = basePath.concat([i])\n\t\t\tpatches.push({\n\t\t\t\top: \"replace\",\n\t\t\t\tpath,\n\t\t\t\tvalue: copy[i]\n\t\t\t})\n\t\t\tinversePatches.push({\n\t\t\t\top: \"replace\",\n\t\t\t\tpath,\n\t\t\t\tvalue: base[i]\n\t\t\t})\n\t\t}\n\t}\n\n\tconst replaceCount = patches.length\n\n\t// Process added indices.\n\tfor (let i = end + delta - 1; i >= end; --i) {\n\t\tconst path = basePath.concat([i])\n\t\tpatches[replaceCount + i - end] = {\n\t\t\top: \"add\",\n\t\t\tpath,\n\t\t\tvalue: copy[i]\n\t\t}\n\t\tinversePatches.push({\n\t\t\top: \"remove\",\n\t\t\tpath\n\t\t})\n\t}\n}\n\n// This is used for both Map objects and normal objects.\nfunction generatePatchesFromAssigned(state, basePath, patches, inversePatches) {\n\tconst {base, copy} = state\n\teach(state.assigned, (key, assignedValue) => {\n\t\tconst origValue = get(base, key)\n\t\tconst value = get(copy, key)\n\t\tconst op = !assignedValue ? \"remove\" : has(base, key) ? \"replace\" : \"add\"\n\t\tif (origValue === value && op === \"replace\") return\n\t\tconst path = basePath.concat(key)\n\t\tpatches.push(op === \"remove\" ? {op, path} : {op, path, value})\n\t\tinversePatches.push(\n\t\t\top === \"add\"\n\t\t\t\t? {op: \"remove\", path}\n\t\t\t\t: op === \"remove\"\n\t\t\t\t? {op: \"add\", path, value: origValue}\n\t\t\t\t: {op: \"replace\", path, value: origValue}\n\t\t)\n\t})\n}\n\nfunction generateSetPatches(state, basePath, patches, inversePatches) {\n\tlet {base, copy} = state\n\n\tlet i = 0\n\tfor (const value of base) {\n\t\tif (!copy.has(value)) {\n\t\t\tconst path = basePath.concat([i])\n\t\t\tpatches.push({\n\t\t\t\top: \"remove\",\n\t\t\t\tpath,\n\t\t\t\tvalue\n\t\t\t})\n\t\t\tinversePatches.unshift({\n\t\t\t\top: \"add\",\n\t\t\t\tpath,\n\t\t\t\tvalue\n\t\t\t})\n\t\t}\n\t\ti++\n\t}\n\ti = 0\n\tfor (const value of copy) {\n\t\tif (!base.has(value)) {\n\t\t\tconst path = basePath.concat([i])\n\t\t\tpatches.push({\n\t\t\t\top: \"add\",\n\t\t\t\tpath,\n\t\t\t\tvalue\n\t\t\t})\n\t\t\tinversePatches.unshift({\n\t\t\t\top: \"remove\",\n\t\t\t\tpath,\n\t\t\t\tvalue\n\t\t\t})\n\t\t}\n\t\ti++\n\t}\n}\n\nexport const applyPatches = (draft, patches) => {\n\tfor (const patch of patches) {\n\t\tconst {path, op} = patch\n\n\t\tif (!path.length) throw new Error(\"Illegal state\")\n\n\t\tlet base = draft\n\t\tfor (let i = 0; i < path.length - 1; i++) {\n\t\t\tbase = get(base, path[i])\n\t\t\tif (!base || typeof base !== \"object\")\n\t\t\t\tthrow new Error(\"Cannot apply patch, path doesn't resolve: \" + path.join(\"/\")) // prettier-ignore\n\t\t}\n\n\t\tconst value = clone(patch.value) // used to clone patch to ensure original patch is not modified, see #411\n\n\t\tconst key = path[path.length - 1]\n\t\tswitch (op) {\n\t\t\tcase \"replace\":\n\t\t\t\tif (isMap(base)) {\n\t\t\t\t\tbase.set(key, value)\n\t\t\t\t} else if (isSet(base)) {\n\t\t\t\t\tthrow new Error('Sets cannot have \"replace\" patches.')\n\t\t\t\t} else {\n\t\t\t\t\t// if value is an object, then it's assigned by reference\n\t\t\t\t\t// in the following add or remove ops, the value field inside the patch will also be modifyed\n\t\t\t\t\t// so we use value from the cloned patch\n\t\t\t\t\tbase[key] = value\n\t\t\t\t}\n\t\t\t\tbreak\n\t\t\tcase \"add\":\n\t\t\t\tif (isSet(base)) {\n\t\t\t\t\tbase.delete(patch.value)\n\t\t\t\t}\n\n\t\t\t\tArray.isArray(base)\n\t\t\t\t\t? base.splice(key, 0, value)\n\t\t\t\t\t: isMap(base)\n\t\t\t\t\t? base.set(key, value)\n\t\t\t\t\t: isSet(base)\n\t\t\t\t\t? base.add(value)\n\t\t\t\t\t: (base[key] = value)\n\t\t\t\tbreak\n\t\t\tcase \"remove\":\n\t\t\t\tArray.isArray(base)\n\t\t\t\t\t? base.splice(key, 1)\n\t\t\t\t\t: isMap(base)\n\t\t\t\t\t? base.delete(key)\n\t\t\t\t\t: isSet(base)\n\t\t\t\t\t? base.delete(patch.value)\n\t\t\t\t\t: delete base[key]\n\t\t\t\tbreak\n\t\t\tdefault:\n\t\t\t\tthrow new Error(\"Unsupported patch operation: \" + op)\n\t\t}\n\t}\n\n\treturn draft\n}\n","import * as legacyProxy from \"./es5\"\nimport * as modernProxy from \"./proxy\"\nimport {applyPatches, generatePatches} from \"./patches\"\nimport {\n\tassign,\n\teach,\n\thas,\n\tis,\n\tisDraft,\n\tisSet,\n\tget,\n\tisMap,\n\tisDraftable,\n\tisEnumerable,\n\tshallowCopy,\n\tDRAFT_STATE,\n\tNOTHING,\n\tfreeze\n} from \"./common\"\nimport {ImmerScope} from \"./scope\"\n\nfunction verifyMinified() {}\n\nconst configDefaults = {\n\tuseProxies:\n\t\ttypeof Proxy !== \"undefined\" &&\n\t\ttypeof Proxy.revocable !== \"undefined\" &&\n\t\ttypeof Reflect !== \"undefined\",\n\tautoFreeze:\n\t\ttypeof process !== \"undefined\"\n\t\t\t? process.env.NODE_ENV !== \"production\"\n\t\t\t: verifyMinified.name === \"verifyMinified\",\n\tonAssign: null,\n\tonDelete: null,\n\tonCopy: null\n}\n\nexport class Immer {\n\tconstructor(config) {\n\t\tassign(this, configDefaults, config)\n\t\tthis.setUseProxies(this.useProxies)\n\t\tthis.produce = this.produce.bind(this)\n\t\tthis.produceWithPatches = this.produceWithPatches.bind(this)\n\t}\n\tproduce(base, recipe, patchListener) {\n\t\t// curried invocation\n\t\tif (typeof base === \"function\" && typeof recipe !== \"function\") {\n\t\t\tconst defaultBase = recipe\n\t\t\trecipe = base\n\n\t\t\tconst self = this\n\t\t\treturn function curriedProduce(base = defaultBase, ...args) {\n\t\t\t\treturn self.produce(base, draft => recipe.call(this, draft, ...args)) // prettier-ignore\n\t\t\t}\n\t\t}\n\n\t\t// prettier-ignore\n\t\t{\n\t\t\tif (typeof recipe !== \"function\") {\n\t\t\t\tthrow new Error(\"The first or second argument to `produce` must be a function\")\n\t\t\t}\n\t\t\tif (patchListener !== undefined && typeof patchListener !== \"function\") {\n\t\t\t\tthrow new Error(\"The third argument to `produce` must be a function or undefined\")\n\t\t\t}\n\t\t}\n\n\t\tlet result\n\n\t\t// Only plain objects, arrays, and \"immerable classes\" are drafted.\n\t\tif (isDraftable(base)) {\n\t\t\tconst scope = ImmerScope.enter()\n\t\t\tconst proxy = this.createProxy(base)\n\t\t\tlet hasError = true\n\t\t\ttry {\n\t\t\t\tresult = recipe(proxy)\n\t\t\t\thasError = false\n\t\t\t} finally {\n\t\t\t\t// finally instead of catch + rethrow better preserves original stack\n\t\t\t\tif (hasError) scope.revoke()\n\t\t\t\telse scope.leave()\n\t\t\t}\n\t\t\tif (typeof Promise !== \"undefined\" && result instanceof Promise) {\n\t\t\t\treturn result.then(\n\t\t\t\t\tresult => {\n\t\t\t\t\t\tscope.usePatches(patchListener)\n\t\t\t\t\t\treturn this.processResult(result, scope)\n\t\t\t\t\t},\n\t\t\t\t\terror => {\n\t\t\t\t\t\tscope.revoke()\n\t\t\t\t\t\tthrow error\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t}\n\t\t\tscope.usePatches(patchListener)\n\t\t\treturn this.processResult(result, scope)\n\t\t} else {\n\t\t\tresult = recipe(base)\n\t\t\tif (result === NOTHING) return undefined\n\t\t\tif (result === undefined) result = base\n\t\t\tthis.maybeFreeze(result, true)\n\t\t\treturn result\n\t\t}\n\t}\n\tproduceWithPatches(arg1, arg2, arg3) {\n\t\tif (typeof arg1 === \"function\") {\n\t\t\tconst self = this\n\t\t\treturn (state, ...args) =>\n\t\t\t\tthis.produceWithPatches(state, draft => arg1(draft, ...args))\n\t\t}\n\t\t// non-curried form\n\t\tif (arg3)\n\t\t\tthrow new Error(\"A patch listener cannot be passed to produceWithPatches\")\n\t\tlet patches, inversePatches\n\t\tconst nextState = this.produce(arg1, arg2, (p, ip) => {\n\t\t\tpatches = p\n\t\t\tinversePatches = ip\n\t\t})\n\t\treturn [nextState, patches, inversePatches]\n\t}\n\tcreateDraft(base) {\n\t\tif (!isDraftable(base)) {\n\t\t\tthrow new Error(\"First argument to `createDraft` must be a plain object, an array, or an immerable object\") // prettier-ignore\n\t\t}\n\t\tconst scope = ImmerScope.enter()\n\t\tconst proxy = this.createProxy(base)\n\t\tproxy[DRAFT_STATE].isManual = true\n\t\tscope.leave()\n\t\treturn proxy\n\t}\n\tfinishDraft(draft, patchListener) {\n\t\tconst state = draft && draft[DRAFT_STATE]\n\t\tif (!state || !state.isManual) {\n\t\t\tthrow new Error(\"First argument to `finishDraft` must be a draft returned by `createDraft`\") // prettier-ignore\n\t\t}\n\t\tif (state.finalized) {\n\t\t\tthrow new Error(\"The given draft is already finalized\") // prettier-ignore\n\t\t}\n\t\tconst {scope} = state\n\t\tscope.usePatches(patchListener)\n\t\treturn this.processResult(undefined, scope)\n\t}\n\tsetAutoFreeze(value) {\n\t\tthis.autoFreeze = value\n\t}\n\tsetUseProxies(value) {\n\t\tthis.useProxies = value\n\t\tassign(this, value ? modernProxy : legacyProxy)\n\t}\n\tapplyPatches(base, patches) {\n\t\t// If a patch replaces the entire state, take that replacement as base\n\t\t// before applying patches\n\t\tlet i\n\t\tfor (i = patches.length - 1; i >= 0; i--) {\n\t\t\tconst patch = patches[i]\n\t\t\tif (patch.path.length === 0 && patch.op === \"replace\") {\n\t\t\t\tbase = patch.value\n\t\t\t\tbreak\n\t\t\t}\n\t\t}\n\n\t\tif (isDraft(base)) {\n\t\t\t// N.B: never hits if some patch a replacement, patches are never drafts\n\t\t\treturn applyPatches(base, patches)\n\t\t}\n\t\t// Otherwise, produce a copy of the base state.\n\t\treturn this.produce(base, draft =>\n\t\t\tapplyPatches(draft, patches.slice(i + 1))\n\t\t)\n\t}\n\t/** @internal */\n\tprocessResult(result, scope) {\n\t\tconst baseDraft = scope.drafts[0]\n\t\tconst isReplaced = result !== undefined && result !== baseDraft\n\t\tthis.willFinalize(scope, result, isReplaced)\n\t\tif (isReplaced) {\n\t\t\tif (baseDraft[DRAFT_STATE].modified) {\n\t\t\t\tscope.revoke()\n\t\t\t\tthrow new Error(\"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.\") // prettier-ignore\n\t\t\t}\n\t\t\tif (isDraftable(result)) {\n\t\t\t\t// Finalize the result in case it contains (or is) a subset of the draft.\n\t\t\t\tresult = this.finalize(result, null, scope)\n\t\t\t\tthis.maybeFreeze(result)\n\t\t\t}\n\t\t\tif (scope.patches) {\n\t\t\t\tscope.patches.push({\n\t\t\t\t\top: \"replace\",\n\t\t\t\t\tpath: [],\n\t\t\t\t\tvalue: result\n\t\t\t\t})\n\t\t\t\tscope.inversePatches.push({\n\t\t\t\t\top: \"replace\",\n\t\t\t\t\tpath: [],\n\t\t\t\t\tvalue: baseDraft[DRAFT_STATE].base\n\t\t\t\t})\n\t\t\t}\n\t\t} else {\n\t\t\t// Finalize the base draft.\n\t\t\tresult = this.finalize(baseDraft, [], scope)\n\t\t}\n\t\tscope.revoke()\n\t\tif (scope.patches) {\n\t\t\tscope.patchListener(scope.patches, scope.inversePatches)\n\t\t}\n\t\treturn result !== NOTHING ? result : undefined\n\t}\n\t/**\n\t * @internal\n\t * Finalize a draft, returning either the unmodified base state or a modified\n\t * copy of the base state.\n\t */\n\tfinalize(draft, path, scope) {\n\t\tconst state = draft[DRAFT_STATE]\n\t\tif (!state) {\n\t\t\tif (Object.isFrozen(draft)) return draft\n\t\t\treturn this.finalizeTree(draft, null, scope)\n\t\t}\n\t\t// Never finalize drafts owned by another scope.\n\t\tif (state.scope !== scope) {\n\t\t\treturn draft\n\t\t}\n\t\tif (!state.modified) {\n\t\t\tthis.maybeFreeze(state.base, true)\n\t\t\treturn state.base\n\t\t}\n\t\tif (!state.finalized) {\n\t\t\tstate.finalized = true\n\t\t\tthis.finalizeTree(state.draft, path, scope)\n\n\t\t\t// We cannot really delete anything inside of a Set. We can only replace the whole Set.\n\t\t\tif (this.onDelete && !isSet(state.base)) {\n\t\t\t\t// The `assigned` object is unreliable with ES5 drafts.\n\t\t\t\tif (this.useProxies) {\n\t\t\t\t\tconst {assigned} = state\n\t\t\t\t\teach(assigned, (prop, exists) => {\n\t\t\t\t\t\tif (!exists) this.onDelete(state, prop)\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\t// TODO: Figure it out for Maps and Sets if we need to support ES5\n\t\t\t\t\tconst {base, copy} = state\n\t\t\t\t\teach(base, prop => {\n\t\t\t\t\t\tif (!has(copy, prop)) this.onDelete(state, prop)\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (this.onCopy) {\n\t\t\t\tthis.onCopy(state)\n\t\t\t}\n\n\t\t\t// At this point, all descendants of `state.copy` have been finalized,\n\t\t\t// so we can be sure that `scope.canAutoFreeze` is accurate.\n\t\t\tif (this.autoFreeze && scope.canAutoFreeze) {\n\t\t\t\tfreeze(state.copy, false)\n\t\t\t}\n\n\t\t\tif (path && scope.patches) {\n\t\t\t\tgeneratePatches(state, path, scope.patches, scope.inversePatches)\n\t\t\t}\n\t\t}\n\t\treturn state.copy\n\t}\n\t/**\n\t * @internal\n\t * Finalize all drafts in the given state tree.\n\t */\n\tfinalizeTree(root, rootPath, scope) {\n\t\tconst state = root[DRAFT_STATE]\n\t\tif (state) {\n\t\t\tif (!this.useProxies) {\n\t\t\t\t// Create the final copy, with added keys and without deleted keys.\n\t\t\t\tstate.copy = shallowCopy(state.draft, true)\n\t\t\t}\n\t\t\troot = state.copy\n\t\t}\n\n\t\tconst needPatches = !!rootPath && !!scope.patches\n\t\tconst finalizeProperty = (prop, value, parent) => {\n\t\t\tif (value === parent) {\n\t\t\t\tthrow Error(\"Immer forbids circular references\")\n\t\t\t}\n\n\t\t\t// In the `finalizeTree` method, only the `root` object may be a draft.\n\t\t\tconst isDraftProp = !!state && parent === root\n\t\t\tconst isSetMember = isSet(parent)\n\n\t\t\tif (isDraft(value)) {\n\t\t\t\tconst path =\n\t\t\t\t\tisDraftProp &&\n\t\t\t\t\tneedPatches &&\n\t\t\t\t\t!isSetMember && // Set objects are atomic since they have no keys.\n\t\t\t\t\t!has(state.assigned, prop) // Skip deep patches for assigned keys.\n\t\t\t\t\t\t? rootPath.concat(prop)\n\t\t\t\t\t\t: null\n\n\t\t\t\t// Drafts owned by `scope` are finalized here.\n\t\t\t\tvalue = this.finalize(value, path, scope)\n\t\t\t\treplace(parent, prop, value)\n\n\t\t\t\t// Drafts from another scope must prevent auto-freezing.\n\t\t\t\tif (isDraft(value)) {\n\t\t\t\t\tscope.canAutoFreeze = false\n\t\t\t\t}\n\n\t\t\t\t// Unchanged drafts are never passed to the `onAssign` hook.\n\t\t\t\tif (isDraftProp && value === get(state.base, prop)) return\n\t\t\t}\n\t\t\t// Unchanged draft properties are ignored.\n\t\t\telse if (isDraftProp && is(value, get(state.base, prop))) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\t// Search new objects for unfinalized drafts. Frozen objects should never contain drafts.\n\t\t\telse if (isDraftable(value) && !Object.isFrozen(value)) {\n\t\t\t\teach(value, finalizeProperty)\n\t\t\t\tthis.maybeFreeze(value)\n\t\t\t}\n\n\t\t\tif (isDraftProp && this.onAssign && !isSetMember) {\n\t\t\t\tthis.onAssign(state, prop, value)\n\t\t\t}\n\t\t}\n\n\t\teach(root, finalizeProperty)\n\t\treturn root\n\t}\n\tmaybeFreeze(value, deep = false) {\n\t\tif (this.autoFreeze && !isDraft(value)) {\n\t\t\tfreeze(value, deep)\n\t\t}\n\t}\n}\n\nfunction replace(parent, prop, value) {\n\tif (isMap(parent)) {\n\t\tparent.set(prop, value)\n\t} else if (isSet(parent)) {\n\t\t// In this case, the `prop` is actually a draft.\n\t\tparent.delete(prop)\n\t\tparent.add(value)\n\t} else if (Array.isArray(parent) || isEnumerable(parent, prop)) {\n\t\t// Preserve non-enumerable properties.\n\t\tparent[prop] = value\n\t} else {\n\t\tObject.defineProperty(parent, prop, {\n\t\t\tvalue,\n\t\t\twritable: true,\n\t\t\tconfigurable: true\n\t\t})\n\t}\n}\n","import {Immer} from \"./immer\"\n\nconst immer = new Immer()\n\n/**\n * The `produce` function takes a value and a \"recipe function\" (whose\n * return value often depends on the base state). The recipe function is\n * free to mutate its first argument however it wants. All mutations are\n * only ever applied to a __copy__ of the base state.\n *\n * Pass only a function to create a \"curried producer\" which relieves you\n * from passing the recipe function every time.\n *\n * Only plain objects and arrays are made mutable. All other objects are\n * considered uncopyable.\n *\n * Note: This function is __bound__ to its `Immer` instance.\n *\n * @param {any} base - the initial state\n * @param {Function} producer - function that receives a proxy of the base state as first argument and which can be freely modified\n * @param {Function} patchListener - optional function that will be called with all the patches produced here\n * @returns {any} a new state, or the initial state if nothing was modified\n */\nexport const produce = immer.produce\nexport default produce\n\n/**\n * Like `produce`, but `produceWithPatches` always returns a tuple\n * [nextState, patches, inversePatches] (instead of just the next state)\n */\nexport const produceWithPatches = immer.produceWithPatches.bind(immer)\n\n/**\n * Pass true to automatically freeze all copies created by Immer.\n *\n * By default, auto-freezing is disabled in production.\n */\nexport const setAutoFreeze = immer.setAutoFreeze.bind(immer)\n\n/**\n * Pass true to use the ES2015 `Proxy` class when creating drafts, which is\n * always faster than using ES5 proxies.\n *\n * By default, feature detection is used, so calling this is rarely necessary.\n */\nexport const setUseProxies = immer.setUseProxies.bind(immer)\n\n/**\n * Apply an array of Immer patches to the first argument.\n *\n * This function is a producer, which means copy-on-write is in effect.\n */\nexport const applyPatches = immer.applyPatches.bind(immer)\n\n/**\n * Create an Immer draft from the given base state, which may be a draft itself.\n * The draft can be modified until you finalize it with the `finishDraft` function.\n */\nexport const createDraft = immer.createDraft.bind(immer)\n\n/**\n * Finalize an Immer draft from a `createDraft` call, returning the base state\n * (if no changes were made) or a modified copy. The draft must *not* be\n * mutated afterwards.\n *\n * Pass a function as the 2nd argument to generate Immer patches based on the\n * changes that were made.\n */\nexport const finishDraft = immer.finishDraft.bind(immer)\n\nexport {\n\toriginal,\n\tisDraft,\n\tisDraftable,\n\tNOTHING as nothing,\n\tDRAFTABLE as immerable\n} from \"./common\"\n\nexport {Immer}\n","interface Action<T extends string> {\n  type: T;\n}\n\ninterface PayloadAction<T extends string, P> extends Action<T> {\n  payload: P;\n}\n\nexport function actionCreator<T extends string>(type: T): Action<T>;\nexport function actionCreator<T extends string, P>(\n  type: T,\n  payload: P,\n): PayloadAction<T, P>;\nexport function actionCreator<T extends string, P>(\n  type: T,\n  payload?: P,\n): Action<T> | PayloadAction<T, P> {\n  if (payload === undefined) return { type };\n  return { type, payload };\n}\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\ntype FuncType = (...args: any[]) => any;\ntype ActionMap = { [actionCreator: string]: FuncType };\nexport type ActionsUnion<A extends ActionMap> = ReturnType<A[keyof A]>;\n","import { actionCreator, ActionsUnion } from './genericActions';\n\nexport const ADD_VALUE = 'ADD_VALUE';\nexport const ADD_VALUES = 'ADD_VALUES';\nexport const CLEAR_VALUES = 'CLEAR_VALUES';\n\n/**\n * A map of all the action creators\n */\n/* eslint-disable @typescript-eslint/explicit-function-return-type */\nexport const Actions = {\n  addValue: (value: number) => actionCreator(ADD_VALUE, value),\n  addValues: (...values: number[]) => actionCreator(ADD_VALUES, values),\n  clearValues: () => actionCreator(CLEAR_VALUES),\n};\n/* eslint-enable @typescript-eslint/explicit-function-return-type */\n\nexport type Action = ActionsUnion<typeof Actions>;\n","import { produce } from 'immer';\nimport { Action, ADD_VALUE, CLEAR_VALUES, ADD_VALUES } from './actions';\nimport { State } from './state';\n\nexport const reducer = (\n  state: Readonly<State>,\n  action: Readonly<Action>,\n): State =>\n  produce(state, draft => {\n    switch (action.type) {\n      case ADD_VALUE:\n        draft.values.push(action.payload);\n        break;\n      case CLEAR_VALUES:\n        draft.values = [];\n        break;\n      case ADD_VALUES:\n        draft.values.push(...action.payload);\n        break;\n    }\n  });\n","export interface State {\n  values: number[];\n  key: string;\n}\n\nexport const initialState: State = {\n  values: [],\n  key: 'default',\n};\n","import { reducer } from './store';\nimport { initialState } from './state';\nimport { Actions } from './actions';\n\nconst finalState = [\n  Actions.addValue(20),\n  Actions.addValue(40),\n  Actions.clearValues(),\n  Actions.addValue(50),\n  Actions.addValue(20),\n  Actions.addValues(20, 50, 90, 20),\n].reduce(reducer, initialState);\n\nconsole.log(finalState.values);\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel] ✨ Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel] 🚨  ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\">🚨</span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}